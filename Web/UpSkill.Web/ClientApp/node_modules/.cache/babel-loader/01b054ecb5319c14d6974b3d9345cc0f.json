{"ast":null,"code":"var _jsxFileName = \"H:\\\\Programming Repositories\\\\Titans\\\\Web\\\\UpSkill.Web\\\\ClientApp\\\\src\\\\components\\\\Coaches\\\\CoachesCatalog\\\\OwnerCoachesCatalog\\\\OwnerCoachesCatalog.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport CoachesCard from \"../Coaches-Card/Coaches-Card\";\nimport { getCoaches, removeCoach, addCoach } from \"../../../../services/companyOwnerCoachesService\";\nimport ConfirmDelete from \"../../../Shared/ConfirmDelete/ConfirmDelete\";\nimport { disableBodyScroll, enableBodyScroll } from \"../../../../utils/utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function OwnerCoachesCatalog({\n  coaches,\n  setCoaches,\n  companyCoaches = null\n}) {\n  _s();\n\n  const [onRemove, setOnRemove] = useState(false);\n  const [coachId, setCoachId] = useState(0);\n  const initialPageCoaches = 0;\n  const history = useHistory();\n\n  const routeChange = path => {\n    history.push(path);\n  };\n\n  const checkCompanyHasCoach = coach => {\n    if (companyCoaches) {\n      let contains = false;\n      companyCoaches.map(c => {\n        if (c.id == coach.id) {\n          contains = true;\n        }\n      });\n      return contains;\n    } else {\n      return false;\n    }\n  };\n\n  const onDelete = id => {\n    removeCoach(id).then(() => getCoaches(initialPageCoaches).then(coaches => setCoaches(coaches)));\n    setOnRemove(false);\n    enableBodyScroll();\n  };\n\n  const onCloseConfirmRemove = close => {\n    setOnRemove(close);\n    enableBodyScroll();\n  };\n\n  function setOnRemoveInternal(id) {\n    setCoachId(id);\n    setOnRemove(true);\n    disableBodyScroll();\n  }\n\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  function addCoachToCompany(coachId) {\n    addCoach(user.email, coachId).then(() => routeChange(\"/MyProfile/Coaches\"));\n  }\n\n  const buttonToShow = (checkCompanyHasCoach, coachId) => {\n    if (checkCompanyHasCoach) {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        className: \"coaches-cardButton\",\n        onClick: e => setOnRemoveInternal(coachId),\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        className: \"coaches-cardButton\",\n        onClick: e => addCoachToCompany(coachId),\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row list-unstyled coaches-list\",\n        children: coaches.map(coach => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-4 text-align-center\",\n          children: /*#__PURE__*/_jsxDEV(CoachesCard, {\n            coachDetails: coach,\n            displaySession: false,\n            displayPrice: true,\n            children: [onRemove && /*#__PURE__*/_jsxDEV(ConfirmDelete, {\n              deleteItem: onDelete,\n              closeModal: onCloseConfirmRemove,\n              itemName: \"coach\",\n              id: coachId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this), buttonToShow(checkCompanyHasCoach(coach), coach.id)]\n          }, coach.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, coach.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(OwnerCoachesCatalog, \"KeRCkST0pVlZK18zqipcxshjIlo=\", false, function () {\n  return [useHistory];\n});\n\n_c = OwnerCoachesCatalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"OwnerCoachesCatalog\");","map":{"version":3,"sources":["H:/Programming Repositories/Titans/Web/UpSkill.Web/ClientApp/src/components/Coaches/CoachesCatalog/OwnerCoachesCatalog/OwnerCoachesCatalog.js"],"names":["useState","useEffect","useHistory","Button","CoachesCard","getCoaches","removeCoach","addCoach","ConfirmDelete","disableBodyScroll","enableBodyScroll","OwnerCoachesCatalog","coaches","setCoaches","companyCoaches","onRemove","setOnRemove","coachId","setCoachId","initialPageCoaches","history","routeChange","path","push","checkCompanyHasCoach","coach","contains","map","c","id","onDelete","then","onCloseConfirmRemove","close","setOnRemoveInternal","user","JSON","parse","localStorage","getItem","addCoachToCompany","email","buttonToShow","e"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport CoachesCard from \"../Coaches-Card/Coaches-Card\";\r\nimport { getCoaches, removeCoach, addCoach } from \"../../../../services/companyOwnerCoachesService\";\r\nimport ConfirmDelete from \"../../../Shared/ConfirmDelete/ConfirmDelete\";\r\nimport { disableBodyScroll, enableBodyScroll } from \"../../../../utils/utils\";\r\n\r\nexport default function OwnerCoachesCatalog({\r\n  coaches,\r\n  setCoaches,\r\n  companyCoaches = null,\r\n}) {\r\n  const [onRemove, setOnRemove] = useState(false);\r\n  const [coachId, setCoachId] = useState(0);\r\n  const initialPageCoaches = 0;\r\n\r\n  const history = useHistory();\r\n\r\n  const routeChange = (path) => {\r\n    history.push(path);\r\n  };\r\n\r\n  const checkCompanyHasCoach = (coach) => {\r\n    if (companyCoaches) {\r\n      let contains = false;\r\n      companyCoaches.map((c) => {\r\n        if (c.id == coach.id) {\r\n          contains = true;\r\n        }\r\n      });\r\n      return contains;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const onDelete = (id) => {\r\n    removeCoach(id).then(() =>\r\n      getCoaches(initialPageCoaches).then((coaches) => setCoaches(coaches))\r\n    );\r\n    setOnRemove(false);\r\n    enableBodyScroll();\r\n  };\r\n\r\n  const onCloseConfirmRemove = (close) => {\r\n    setOnRemove(close);\r\n    enableBodyScroll();\r\n  };\r\n\r\n  function setOnRemoveInternal(id) {\r\n    setCoachId(id);\r\n    setOnRemove(true);\r\n    disableBodyScroll();\r\n  }\r\n\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  function addCoachToCompany(coachId) {\r\n    addCoach(user.email, coachId).then(() => routeChange(\"/MyProfile/Coaches\"));\r\n  }\r\n\r\n  const buttonToShow = (checkCompanyHasCoach, coachId) => {\r\n    if (checkCompanyHasCoach) {\r\n      return (\r\n        <Button\r\n          className=\"coaches-cardButton\"\r\n          onClick={(e) => setOnRemoveInternal(coachId)}\r\n        >\r\n          Remove\r\n        </Button>\r\n      );\r\n    } else {\r\n      return (\r\n        <Button\r\n          className=\"coaches-cardButton\"\r\n          onClick={(e) => addCoachToCompany(coachId)}\r\n        >\r\n          Add\r\n        </Button>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"row list-unstyled coaches-list\">\r\n          {coaches.map((coach) => (\r\n            <div className=\"col-sm-4 text-align-center\" key={coach.id}>\r\n              <CoachesCard\r\n                key={coach.id}\r\n                coachDetails={coach}\r\n                displaySession={false}\r\n                displayPrice={true}\r\n              >\r\n                {onRemove && (\r\n                  <ConfirmDelete\r\n                    deleteItem={onDelete}\r\n                    closeModal={onCloseConfirmRemove}\r\n                    itemName=\"coach\"\r\n                    id={coachId}\r\n                  />\r\n                )}\r\n                {buttonToShow(checkCompanyHasCoach(coach), coach.id)}\r\n              </CoachesCard>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}