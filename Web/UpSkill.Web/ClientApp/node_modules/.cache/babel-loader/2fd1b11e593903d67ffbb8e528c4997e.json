{"ast":null,"code":"import { logout } from \"./auth.service\";\nexport default function authHeader() {\n  var _user$headers$wwwAut;\n\n  const user = JSON.parse(localStorage.getItem('user'));\n\n  if (user && user.accessToken) {\n    return {\n      Authorization: 'Bearer' + user.accessToken\n    };\n  } else if ((_user$headers$wwwAut = user.headers['www-authenticate']) === null || _user$headers$wwwAut === void 0 ? void 0 : _user$headers$wwwAut.startsWith('Bearer error=\"invalid_token\"')) {\n    logout();\n    console.log(\"Session expired - please login again.\");\n  } else {\n    return {};\n  }\n}","map":{"version":3,"sources":["H:/Programming Repositories/Titans/Web/UpSkill.Web/ClientApp/src/services/auth-header.js"],"names":["logout","authHeader","user","JSON","parse","localStorage","getItem","accessToken","Authorization","headers","startsWith","console","log"],"mappings":"AAAA,SAASA,MAAT,QAAuB,gBAAvB;AAEA,eAAe,SAASC,UAAT,GAAsB;AAAA;;AACjC,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;;AAEF,MAAIJ,IAAI,IAAIA,IAAI,CAACK,WAAjB,EAA8B;AAC5B,WAAO;AAAEC,MAAAA,aAAa,EAAE,WAAWN,IAAI,CAACK;AAAjC,KAAP;AACD,GAFD,MAEO,4BAAIL,IAAI,CAACO,OAAL,CAAa,kBAAb,CAAJ,yDAAI,qBAAkCC,UAAlC,CAA6C,8BAA7C,CAAJ,EAAkF;AACvFV,IAAAA,MAAM;AACNW,IAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACD,GAHM,MAGA;AACJ,WAAO,EAAP;AACF;AACF","sourcesContent":["import { logout } from \"./auth.service\";\r\n\r\nexport default function authHeader() {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n  \r\n  if (user && user.accessToken) {\r\n    return { Authorization: 'Bearer' + user.accessToken };\r\n  } else if (user.headers['www-authenticate']?.startsWith('Bearer error=\"invalid_token\"')) {\r\n    logout();\r\n    console.log(\"Session expired - please login again.\");\r\n  } else {\r\n     return {};\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}