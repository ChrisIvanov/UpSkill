{"ast":null,"code":"const {\n  head\n} = require('../lib/git.js'); // https://wiki.jenkins.io/display/JENKINS/Building+a+software+project\n\n\nmodule.exports = {\n  detect({\n    env\n  }) {\n    return Boolean(env.JENKINS_URL);\n  },\n\n  configuration({\n    env,\n    cwd\n  }) {\n    const pr = env.ghprbPullId || env.gitlabMergeRequestId || env.CHANGE_ID;\n    const isPr = Boolean(pr);\n    const localBranch = env.GIT_LOCAL_BRANCH || env.GIT_BRANCH || env.gitlabBranch || env.BRANCH_NAME;\n    return {\n      name: 'Jenkins',\n      service: 'jenkins',\n      commit: env.ghprbActualCommit || env.GIT_COMMIT || head({\n        env,\n        cwd\n      }),\n      branch: isPr ? env.ghprbTargetBranch || env.gitlabTargetBranch : localBranch,\n      build: env.BUILD_NUMBER,\n      buildUrl: env.BUILD_URL,\n      root: env.WORKSPACE,\n      pr,\n      isPr,\n      prBranch: isPr ? env.ghprbSourceBranch || env.gitlabSourceBranch || localBranch : undefined\n    };\n  }\n\n};","map":{"version":3,"sources":["H:/Programming Repositories/Titans/Web/UpSkill.Web/ClientApp/node_modules/env-ci/services/jenkins.js"],"names":["head","require","module","exports","detect","env","Boolean","JENKINS_URL","configuration","cwd","pr","ghprbPullId","gitlabMergeRequestId","CHANGE_ID","isPr","localBranch","GIT_LOCAL_BRANCH","GIT_BRANCH","gitlabBranch","BRANCH_NAME","name","service","commit","ghprbActualCommit","GIT_COMMIT","branch","ghprbTargetBranch","gitlabTargetBranch","build","BUILD_NUMBER","buildUrl","BUILD_URL","root","WORKSPACE","prBranch","ghprbSourceBranch","gitlabSourceBranch","undefined"],"mappings":"AAAA,MAAM;AAACA,EAAAA;AAAD,IAASC,OAAO,CAAC,eAAD,CAAtB,C,CAEA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,MAAM,CAAC;AAACC,IAAAA;AAAD,GAAD,EAAQ;AACZ,WAAOC,OAAO,CAACD,GAAG,CAACE,WAAL,CAAd;AACD,GAHc;;AAIfC,EAAAA,aAAa,CAAC;AAACH,IAAAA,GAAD;AAAMI,IAAAA;AAAN,GAAD,EAAa;AACxB,UAAMC,EAAE,GAAGL,GAAG,CAACM,WAAJ,IAAmBN,GAAG,CAACO,oBAAvB,IAA+CP,GAAG,CAACQ,SAA9D;AACA,UAAMC,IAAI,GAAGR,OAAO,CAACI,EAAD,CAApB;AACA,UAAMK,WAAW,GAAGV,GAAG,CAACW,gBAAJ,IAAwBX,GAAG,CAACY,UAA5B,IAA0CZ,GAAG,CAACa,YAA9C,IAA8Db,GAAG,CAACc,WAAtF;AAEA,WAAO;AACLC,MAAAA,IAAI,EAAE,SADD;AAELC,MAAAA,OAAO,EAAE,SAFJ;AAGLC,MAAAA,MAAM,EAAEjB,GAAG,CAACkB,iBAAJ,IAAyBlB,GAAG,CAACmB,UAA7B,IAA2CxB,IAAI,CAAC;AAACK,QAAAA,GAAD;AAAMI,QAAAA;AAAN,OAAD,CAHlD;AAILgB,MAAAA,MAAM,EAAEX,IAAI,GAAGT,GAAG,CAACqB,iBAAJ,IAAyBrB,GAAG,CAACsB,kBAAhC,GAAqDZ,WAJ5D;AAKLa,MAAAA,KAAK,EAAEvB,GAAG,CAACwB,YALN;AAMLC,MAAAA,QAAQ,EAAEzB,GAAG,CAAC0B,SANT;AAOLC,MAAAA,IAAI,EAAE3B,GAAG,CAAC4B,SAPL;AAQLvB,MAAAA,EARK;AASLI,MAAAA,IATK;AAULoB,MAAAA,QAAQ,EAAEpB,IAAI,GAAGT,GAAG,CAAC8B,iBAAJ,IAAyB9B,GAAG,CAAC+B,kBAA7B,IAAmDrB,WAAtD,GAAoEsB;AAV7E,KAAP;AAYD;;AArBc,CAAjB","sourcesContent":["const {head} = require('../lib/git.js');\n\n// https://wiki.jenkins.io/display/JENKINS/Building+a+software+project\n\nmodule.exports = {\n  detect({env}) {\n    return Boolean(env.JENKINS_URL);\n  },\n  configuration({env, cwd}) {\n    const pr = env.ghprbPullId || env.gitlabMergeRequestId || env.CHANGE_ID;\n    const isPr = Boolean(pr);\n    const localBranch = env.GIT_LOCAL_BRANCH || env.GIT_BRANCH || env.gitlabBranch || env.BRANCH_NAME;\n\n    return {\n      name: 'Jenkins',\n      service: 'jenkins',\n      commit: env.ghprbActualCommit || env.GIT_COMMIT || head({env, cwd}),\n      branch: isPr ? env.ghprbTargetBranch || env.gitlabTargetBranch : localBranch,\n      build: env.BUILD_NUMBER,\n      buildUrl: env.BUILD_URL,\n      root: env.WORKSPACE,\n      pr,\n      isPr,\n      prBranch: isPr ? env.ghprbSourceBranch || env.gitlabSourceBranch || localBranch : undefined,\n    };\n  },\n};\n"]},"metadata":{},"sourceType":"script"}