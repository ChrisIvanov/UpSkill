{"ast":null,"code":"var _jsxFileName = \"H:\\\\Programming Repositories\\\\Titans\\\\Web\\\\UpSkill.Web\\\\ClientApp\\\\src\\\\components\\\\Authentication\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport logo from \"../../../assets/UpSkillLogo.png\";\nimport manKey from \"../../../assets/manKey.png\";\nimport notificationContext from \"../../../Context/NotificationContext\";\nimport zoomContext from \"../../../Context/ZoomContext\";\nimport { login } from \"../../../actions/auth\";\nimport \"./Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  _s();\n\n  const form = useRef();\n  const checkBtn = useRef();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [joinCourses, sendJoinMessage, startRoom, sendInviteMessage, receiveMessage, closeConnection, connection] = useContext(zoomContext);\n  const {\n    isLoggedIn\n  } = useSelector(state => state.auth);\n  const {\n    message\n  } = useSelector(state => state.message);\n  let [notification, setNotification] = useContext(notificationContext);\n  const dispatch = useDispatch();\n\n  const onChangeEmail = e => {\n    const email = e.target.value;\n    setEmail(email);\n  };\n\n  const onChangePassword = e => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    setLoading(true);\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      await dispatch(login(email, password)).then(async () => {\n        closeConnection();\n        joinCourses();\n        props.history.push(\"/MyProfile\");\n        setNotification({\n          type: 'LOGIN_SUCCESS',\n          payload: `Welcome ${email}!`\n        });\n      }).catch(() => {\n        setLoading(false);\n      });\n    } else {\n      setLoading(false);\n    }\n  };\n\n  if (isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/MyProfile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"AuthWrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container col-md-6 login-photos\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"log-triangle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: manKey,\n          alt: \"IMG\",\n          className: \"login-Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"base-container col-md-6 mt-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"image text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"UpSkill\",\n            className: \"Auth-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header text-dark text-center m-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"fw-bolder\",\n            children: \"Welcome back!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Please login to your account!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleLogin,\n          ref: form,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content auth-form mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form auth-form-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group auth-form-internal\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"text\",\n                  className: \"form-control p-3 auth-form-Input\",\n                  name: \"email\",\n                  placeholder: \"Email Address\",\n                  value: email,\n                  onChange: onChangeEmail,\n                  validations: [required]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group auth-form-internal\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"password\",\n                  className: \"form-control p-3 auth-form-Input\",\n                  name: \"password\",\n                  placeholder: \"Password\",\n                  value: password,\n                  onChange: onChangePassword,\n                  validations: [required]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-form-btns-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-check text-primary\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      className: \"form-check-input\",\n                      id: \"exampleCheck1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-check-label\",\n                      children: \"Remember me\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"link-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"url\",\n                      children: \"Forgot Password?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group d-flex justify-content-between flex-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary btn-block px-5 m-auto mt-2\",\n                    disabled: loading,\n                    children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"spinner-border spinner-border-sm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"auth-btn-internal\",\n                      children: [\"LogIn\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"login-dots\",\n                        children: \"...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 62\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/Register\",\n                    className: \"btn btn-outline-primary col-xs-2 px-5 m-auto mt-2\",\n                    type: \"button\",\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"auth-btn-internal\",\n                      children: \"SignUp\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 118\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"alert alert-danger\",\n                    role: \"alert\",\n                    children: message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CheckButton, {\n            style: {\n              display: \"none\"\n            },\n            ref: checkBtn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"3hfFNpGhDTIZ13Pr5auckCTndOY=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Login;\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"This field is required!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n};\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["H:/Programming Repositories/Titans/Web/UpSkill.Web/ClientApp/src/components/Authentication/Login/Login.js"],"names":["React","useState","useRef","useContext","useDispatch","useSelector","Redirect","Link","Form","Input","CheckButton","logo","manKey","notificationContext","zoomContext","login","Login","props","form","checkBtn","email","setEmail","password","setPassword","loading","setLoading","joinCourses","sendJoinMessage","startRoom","sendInviteMessage","receiveMessage","closeConnection","connection","isLoggedIn","state","auth","message","notification","setNotification","dispatch","onChangeEmail","e","target","value","onChangePassword","handleLogin","preventDefault","current","validateAll","context","_errors","length","then","history","push","type","payload","catch","required","display"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useContext } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n\r\nimport logo from \"../../../assets/UpSkillLogo.png\";\r\nimport manKey from \"../../../assets/manKey.png\";\r\n\r\nimport notificationContext from \"../../../Context/NotificationContext\";\r\nimport zoomContext from \"../../../Context/ZoomContext\";\r\n\r\nimport { login } from \"../../../actions/auth\";\r\n\r\nimport \"./Login.css\";\r\n\r\nconst Login = (props) => {\r\n  const form = useRef();\r\n  const checkBtn = useRef();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [joinCourses, sendJoinMessage, startRoom, sendInviteMessage, receiveMessage, closeConnection, connection] = useContext(zoomContext);\r\n\r\n  const { isLoggedIn } = useSelector(state => state.auth);\r\n  const { message } = useSelector(state => state.message);\r\n\r\n  let [notification, setNotification] = useContext(notificationContext);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onChangeEmail = (e) => {\r\n    const email = e.target.value;\r\n    setEmail(email);\r\n  };\r\n\r\n  const onChangePassword = (e) => {\r\n    const password = e.target.value;\r\n    setPassword(password);\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setLoading(true);\r\n\r\n    form.current.validateAll();\r\n\r\n    if (checkBtn.current.context._errors.length === 0) {\r\n      await dispatch(login(email, password))\r\n        .then(async () => {\r\n          closeConnection();\r\n          joinCourses();\r\n          props.history.push(\"/MyProfile\");\r\n          setNotification({ type: 'LOGIN_SUCCESS', payload: `Welcome ${email}!` });\r\n        })\r\n        .catch(() => {\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (isLoggedIn) {\r\n    return <Redirect to=\"/MyProfile\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"AuthWrapper\">\r\n      <div className=\"row p-5\">\r\n        <div className=\"container col-md-6 login-photos\">\r\n          <div id=\"log-triangle\"></div>\r\n          <img src={manKey} alt=\"IMG\" className=\"login-Image\" />\r\n        </div>\r\n        <div className=\"base-container col-md-6 mt-4 text-center\">\r\n          <Link to=\"/\" className=\"image text-center\">\r\n            <img src={logo} alt=\"UpSkill\" className=\"Auth-logo\" />\r\n          </Link>\r\n          <div className=\"header text-dark text-center m-3\">\r\n            <h1 className=\"fw-bolder\">Welcome back!</h1>\r\n            <h5>Please login to your account!</h5>\r\n          </div>\r\n          <Form onSubmit={handleLogin} ref={form}>\r\n            <div className=\"content auth-form mt-3\">\r\n              <div className=\"form auth-form-wrapper\">\r\n                <div className=\"form-group auth-form-internal\">\r\n                  <label htmlFor=\"email\"></label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control p-3 auth-form-Input\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email Address\"\r\n                    value={email}\r\n                    onChange={onChangeEmail}\r\n                    validations={[required]} />\r\n                </div>\r\n                <div className=\"form-group auth-form-internal\">\r\n                  <label htmlFor=\"password\"></label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    className=\"form-control p-3 auth-form-Input\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={onChangePassword}\r\n                    validations={[required]} />\r\n                </div>\r\n                <div className=\"login-form-btns-wrapper\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <div className=\"form-check text-primary\">\r\n                      <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\" />\r\n                      <label className=\"form-check-label\">Remember me</label>\r\n                    </div>\r\n                    <div className=\"link-info\">\r\n                      <a href=\"url\">Forgot Password?</a>\r\n                    </div>\r\n                  </div>\r\n                  <br />\r\n                  <div className=\"form-group d-flex justify-content-between flex-wrap\">\r\n                    <button className=\"btn btn-primary btn-block px-5 m-auto mt-2\" disabled={loading}>\r\n                      {loading && (\r\n                        <span className=\"spinner-border spinner-border-sm\"></span>\r\n                      )}\r\n                      <h4 className=\"auth-btn-internal\">LogIn<span className=\"login-dots\">...</span></h4>\r\n                    </button>\r\n                    <Link to=\"/Register\" className=\"btn btn-outline-primary col-xs-2 px-5 m-auto mt-2\" type=\"button\"><h4 className=\"auth-btn-internal\">SignUp</h4></Link>\r\n                  </div>\r\n                  {message && (\r\n                    <div className=\"form-group\">\r\n                      <div className=\"alert alert-danger\" role=\"alert\">\r\n                        {message}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}