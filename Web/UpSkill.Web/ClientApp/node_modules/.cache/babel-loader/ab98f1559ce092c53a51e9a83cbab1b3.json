{"ast":null,"code":"var _jsxFileName = \"H:\\\\Programming Repositories\\\\Titans\\\\Web\\\\UpSkill.Web\\\\ClientApp\\\\src\\\\components\\\\Admin\\\\Courses\\\\UpdateCourse\\\\UpdateCourse.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport \"../CreateCourse/CreateCourse.css\";\nimport \"./UpdateCourse.css\";\nimport { updateCourses } from \"../../../../services/adminCourseService\";\nimport { getCoachesNames } from \"../../../../services/coachService\";\nimport { getCategoriesForCourses } from \"../../../../services/categoryService\";\nimport Select from \"react-select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"This field is required!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this);\n  }\n};\n\nconst vPrice = value => {\n  if (value < 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"The price can't be a negative number;\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  }\n};\n\nconst customStyles = {\n  control: (provided, state) => ({ ...provided,\n    width: \"30rem\",\n    height: \"50px\",\n    border: \"2px solid #296cfb\",\n    opacity: \"1\",\n    marginLeft: \"0.5rem\",\n    marginBottom: \"1rem\",\n    marginTop: \"-1.5rem\",\n    borderRadius: \"5px\"\n  }),\n  menu: (provided, state) => ({ ...provided,\n    marginLeft: \"10px\",\n    marginTop: \"0px\"\n  })\n};\nexport default function UpdateCourse({\n  closeModal\n}) {\n  _s();\n\n  const [id, setId] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [coachName, setCoachName] = useState(\"\");\n  const [categoryName, setCategoryName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [errors, setErrors] = useState({});\n  const [coachId, setCoachId] = useState(0);\n  const [categories, setCategories] = useState([]);\n  const [coaches, setCoaches] = useState({});\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [success, setSuccess] = useState(\"\");\n\n  let handleValidation = () => {\n    let fields = {\n      title,\n      coachName,\n      description,\n      price,\n      categoryName\n    };\n    let errorsValidation = {};\n    let formIsValid = true; //Title\n\n    if (!fields[\"title\"]) {\n      formIsValid = false;\n      errorsValidation[\"title\"] = \"Cannot be empty\";\n    } //Coach\n\n\n    if (!fields[\"coachName\"]) {\n      formIsValid = false;\n      errorsValidation[\"coachName\"] = \"Cannot be empty\";\n    }\n\n    if (!fields[\"description\"] || fields[\"description\"].length < 5) {\n      formIsValid = false;\n      errorsValidation[\"description\"] = \"Cannot be empty or less than 5 characters\";\n    }\n\n    if (!fields[\"categoryName\"]) {\n      formIsValid = false;\n      errorsValidation[\"categoryName\"] = \"Cannot be empty\";\n    }\n\n    if (fields[\"price\"] < 0) {\n      formIsValid = false;\n      errorsValidation[\"price\"] = \"Cannot be negative number\";\n    }\n\n    setErrors(errorsValidation);\n    return formIsValid;\n  };\n\n  useEffect(() => {\n    setId(localStorage.getItem(\"ID\"));\n    setCoachId(localStorage.getItem(\"coachId\"));\n    setPrice(localStorage.getItem(\"Price\"));\n    setDescription(localStorage.getItem(\"Description\"));\n    setTitle(localStorage.getItem(\"Title\"));\n    setCategoryId(localStorage.getItem(\"CategoryId\"));\n    setCategoryName(localStorage.getItem(\"CategoryName\"));\n    setCoachName(localStorage.getItem(\"FullName\"));\n  }, []);\n\n  let onchangeTitle = el => {\n    let title = el.target.value;\n    setTitle(title);\n  };\n\n  let onchangeDescription = el => {\n    setDescription(el.target.value);\n  };\n\n  let onchangePrice = el => {\n    setPrice(el.target.value);\n  };\n\n  let onchangeCategory = el => {\n    setCategoryName(el.label);\n    setCategoryId(el.value);\n  };\n\n  let onChangeNameSelect = el => {\n    setCoachId(el.value);\n    setCoachName(el.label);\n  };\n\n  let handleSubmit = event => {\n    event.preventDefault();\n\n    if (handleValidation()) {\n      setIsSuccess(true);\n      setSuccess(\"Submitted successfully\");\n      let courseReturn = {\n        id,\n        title,\n        description,\n        price,\n        coachId,\n        categoryId // imageUrl: \"https://i.ibb.co/9Twgqz8/Rectangle-1221.png\",\n\n      };\n      console.log(courseReturn);\n      updateCourses(courseReturn);\n    } else {\n      setSuccess(\"Form has errors.\");\n    }\n  };\n\n  useEffect(() => {\n    getCoachesNames().then(arr => {\n      setCoaches(arr);\n    });\n  }, []);\n  useEffect(() => {\n    getCategoriesForCourses().then(arr => {\n      setCategories(arr);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"update-course-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UpdateCloseBtn\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"update-x-btn\",\n        onClick: () => closeModal(false),\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"update-course-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Update \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"update-form-container\",\n      children: [isSuccess ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"green\",\n          marginBottom: \"1rem\"\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"red\",\n          marginBottom: \"1rem\"\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"update-input-style\",\n              type: \"text\",\n              name: \"title\",\n              placeholder: \"Title\",\n              value: title,\n              onChange: onchangeTitle,\n              validations: [required]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                marginLeft: \"15px\"\n              },\n              children: errors[\"title\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: \"2rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"coachName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              styles: customStyles,\n              options: coaches,\n              defaultValue: {\n                label: \"coachName\",\n                value: \"\"\n              },\n              value: {\n                label: coachName,\n                value: coachId\n              },\n              onChange: onChangeNameSelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                marginLeft: \"15px\",\n                marginBottom: \"-1rem\",\n                marginTop: \"-1rem\"\n              },\n              children: errors[\"coachName\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"update-input-style\",\n              type: \"text\",\n              name: \"description\",\n              placeholder: \"Description\",\n              value: description,\n              onChange: onchangeDescription,\n              validations: [required]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                marginLeft: \"15px\"\n              },\n              children: errors[\"description\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"update-input-style\",\n              type: \"number\",\n              name: \"price\",\n              placeholder: \"Price\",\n              value: price,\n              onChange: onchangePrice,\n              validations: [required, vPrice]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                marginLeft: \"15px\"\n              },\n              children: errors[\"price\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              maxMenuHeight: 180,\n              styles: customStyles,\n              options: categories,\n              defaultValue: {\n                label: \"Category\",\n                value: \"\"\n              },\n              value: {\n                label: categoryName,\n                value: categoryId\n              },\n              onChange: onchangeCategory\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"red\",\n                marginLeft: \"15px\"\n              },\n              children: errors[\"category\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-update-course-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-primary cancel-button\",\n                onClick: () => closeModal(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"btn btn-primary submit-button\",\n                type: \"submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UpdateCourse, \"ablPXqUslbAoxOodnt73nYrQV8k=\");\n\n_c = UpdateCourse;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateCourse\");","map":{"version":3,"sources":["H:/Programming Repositories/Titans/Web/UpSkill.Web/ClientApp/src/components/Admin/Courses/UpdateCourse/UpdateCourse.js"],"names":["React","useState","useEffect","Form","updateCourses","getCoachesNames","getCategoriesForCourses","Select","required","value","vPrice","customStyles","control","provided","state","width","height","border","opacity","marginLeft","marginBottom","marginTop","borderRadius","menu","UpdateCourse","closeModal","id","setId","title","setTitle","coachName","setCoachName","categoryName","setCategoryName","description","setDescription","price","setPrice","categoryId","setCategoryId","errors","setErrors","coachId","setCoachId","categories","setCategories","coaches","setCoaches","isSuccess","setIsSuccess","success","setSuccess","handleValidation","fields","errorsValidation","formIsValid","length","localStorage","getItem","onchangeTitle","el","target","onchangeDescription","onchangePrice","onchangeCategory","label","onChangeNameSelect","handleSubmit","event","preventDefault","courseReturn","console","log","then","arr","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport \"../CreateCourse/CreateCourse.css\";\r\nimport \"./UpdateCourse.css\";\r\nimport { updateCourses } from \"../../../../services/adminCourseService\";\r\nimport { getCoachesNames } from \"../../../../services/coachService\";\r\nimport { getCategoriesForCourses } from \"../../../../services/categoryService\";\r\nimport Select from \"react-select\";\r\n\r\nconst required = (value) => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vPrice = (value) => {\r\n  if (value < 0) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        The price can't be a negative number;\r\n      </div>\r\n    );\r\n  }\r\n};\r\nconst customStyles = {\r\n  control: (provided, state) => ({\r\n    ...provided,\r\n    width: \"30rem\",\r\n    height: \"50px\",\r\n    border: \"2px solid #296cfb\",\r\n    opacity: \"1\",\r\n    marginLeft: \"0.5rem\",\r\n    marginBottom: \"1rem\",\r\n    marginTop: \"-1.5rem\",\r\n\r\n    borderRadius: \"5px\",\r\n  }),\r\n  menu: (provided, state) => ({\r\n    ...provided,\r\n    marginLeft: \"10px\",\r\n    marginTop: \"0px\",\r\n  }),\r\n};\r\nexport default function UpdateCourse({ closeModal }) {\r\n  const [id, setId] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [coachName, setCoachName] = useState(\"\");\r\n  const [categoryName, setCategoryName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const [categoryId, setCategoryId] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n  const [coachId, setCoachId] = useState(0);\r\n  const [categories, setCategories] = useState([]);\r\n  const [coaches, setCoaches] = useState({});\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  let handleValidation = () => {\r\n    let fields = {\r\n      title,\r\n      coachName,\r\n      description,\r\n      price,\r\n      categoryName,\r\n    };\r\n    let errorsValidation = {};\r\n    let formIsValid = true;\r\n\r\n    //Title\r\n    if (!fields[\"title\"]) {\r\n      formIsValid = false;\r\n      errorsValidation[\"title\"] = \"Cannot be empty\";\r\n    }\r\n\r\n    //Coach\r\n    if (!fields[\"coachName\"]) {\r\n      formIsValid = false;\r\n      errorsValidation[\"coachName\"] = \"Cannot be empty\";\r\n    }\r\n\r\n    if (!fields[\"description\"] || fields[\"description\"].length < 5) {\r\n      formIsValid = false;\r\n      errorsValidation[\"description\"] =\r\n        \"Cannot be empty or less than 5 characters\";\r\n    }\r\n\r\n    if (!fields[\"categoryName\"]) {\r\n      formIsValid = false;\r\n      errorsValidation[\"categoryName\"] = \"Cannot be empty\";\r\n    }\r\n\r\n    if (fields[\"price\"] < 0) {\r\n      formIsValid = false;\r\n      errorsValidation[\"price\"] = \"Cannot be negative number\";\r\n    }\r\n\r\n    setErrors(errorsValidation);\r\n    return formIsValid;\r\n  };\r\n\r\n  useEffect(() => {\r\n    setId(localStorage.getItem(\"ID\"));\r\n    setCoachId(localStorage.getItem(\"coachId\"));\r\n    setPrice(localStorage.getItem(\"Price\"));\r\n    setDescription(localStorage.getItem(\"Description\"));\r\n    setTitle(localStorage.getItem(\"Title\"));\r\n    setCategoryId(localStorage.getItem(\"CategoryId\"));\r\n    setCategoryName(localStorage.getItem(\"CategoryName\"));\r\n    setCoachName(localStorage.getItem(\"FullName\"));\r\n  }, []);\r\n\r\n  let onchangeTitle = (el) => {\r\n    let title = el.target.value;\r\n    setTitle(title);\r\n  };\r\n\r\n  let onchangeDescription = (el) => {\r\n    setDescription(el.target.value);\r\n  };\r\n\r\n  let onchangePrice = (el) => {\r\n    setPrice(el.target.value);\r\n  };\r\n\r\n  let onchangeCategory = (el) => {\r\n    setCategoryName(el.label);\r\n    setCategoryId(el.value);\r\n  };\r\n\r\n  let onChangeNameSelect = (el) => {\r\n    setCoachId(el.value);\r\n    setCoachName(el.label);\r\n  };\r\n\r\n  let handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (handleValidation()) {\r\n      setIsSuccess(true);\r\n      setSuccess(\"Submitted successfully\");\r\n      let courseReturn = {\r\n        id,\r\n        title,\r\n        description,\r\n        price,\r\n        coachId,\r\n        categoryId,\r\n        // imageUrl: \"https://i.ibb.co/9Twgqz8/Rectangle-1221.png\",\r\n      };\r\n      console.log(courseReturn);\r\n      updateCourses(courseReturn);\r\n    } else {\r\n      setSuccess(\"Form has errors.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCoachesNames().then((arr) => {\r\n      setCoaches(arr);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getCategoriesForCourses().then((arr) => {\r\n      setCategories(arr);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"update-course-container\">\r\n      <div className=\"UpdateCloseBtn\">\r\n        <button className=\"update-x-btn\" onClick={() => closeModal(false)}>\r\n          X\r\n        </button>\r\n      </div>\r\n      <div className=\"update-course-header\">\r\n        <h1>Update {title}</h1>\r\n      </div>\r\n      <div className=\"update-form-container\">\r\n        {isSuccess ? (\r\n          <span style={{ color: \"green\", marginBottom: \"1rem\" }}>\r\n            {success}\r\n          </span>\r\n        ) : (\r\n          <span style={{ color: \"red\", marginBottom: \"1rem\" }}>{success}</span>\r\n        )}\r\n        <Form onSubmit={handleSubmit}>\r\n          <div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"title\"></label>\r\n              <input\r\n                className=\"update-input-style\"\r\n                type=\"text\"\r\n                name=\"title\"\r\n                placeholder=\"Title\"\r\n                value={title}\r\n                onChange={onchangeTitle}\r\n                validations={[required]}\r\n              />\r\n              <p style={{ color: \"red\", marginLeft: \"15px\" }}>\r\n                {errors[\"title\"]}\r\n              </p>\r\n            </div>\r\n            <div className=\"form-group\" style={{ marginBottom: \"2rem\" }}>\r\n              <label htmlFor=\"coachName\"></label>\r\n              <Select\r\n                styles={customStyles}\r\n                options={coaches}\r\n                defaultValue={{\r\n                  label: \"coachName\",\r\n                  value: \"\",\r\n                }}\r\n                value={{ label: coachName, value: coachId }}\r\n                onChange={onChangeNameSelect}\r\n              ></Select>\r\n              <p\r\n                style={{\r\n                  color: \"red\",\r\n                  marginLeft: \"15px\",\r\n                  marginBottom: \"-1rem\",\r\n                  marginTop: \"-1rem\",\r\n                }}\r\n              >\r\n                {errors[\"coachName\"]}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"description\"></label>\r\n              <input\r\n                className=\"update-input-style\"\r\n                type=\"text\"\r\n                name=\"description\"\r\n                placeholder=\"Description\"\r\n                value={description}\r\n                onChange={onchangeDescription}\r\n                validations={[required]}\r\n              />\r\n              <p style={{ color: \"red\", marginLeft: \"15px\" }}>\r\n                {errors[\"description\"]}\r\n              </p>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"price\"></label>\r\n              <input\r\n                className=\"update-input-style\"\r\n                type=\"number\"\r\n                name=\"price\"\r\n                placeholder=\"Price\"\r\n                value={price}\r\n                onChange={onchangePrice}\r\n                validations={[required, vPrice]}\r\n              />\r\n              <p style={{ color: \"red\", marginLeft: \"15px\" }}>\r\n                {errors[\"price\"]}\r\n              </p>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"category\"></label>\r\n              <Select\r\n                maxMenuHeight={180}\r\n                styles={customStyles}\r\n                options={categories}\r\n                defaultValue={{\r\n                  label: \"Category\",\r\n                  value: \"\",\r\n                }}\r\n                value={{ label: categoryName, value: categoryId }}\r\n                onChange={onchangeCategory}\r\n              ></Select>\r\n              <span style={{ color: \"red\", marginLeft: \"15px\" }}>\r\n                {errors[\"category\"]}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"btn-update-course-container\">\r\n              <div>\r\n                <button\r\n                  className=\"btn btn-outline-primary cancel-button\"\r\n                  onClick={() => closeModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <input\r\n                  className=\"btn btn-primary submit-button\"\r\n                  type=\"submit\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}