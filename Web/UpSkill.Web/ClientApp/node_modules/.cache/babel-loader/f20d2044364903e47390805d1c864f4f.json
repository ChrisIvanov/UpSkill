{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _url = require(\"url\");\n\nvar _errors = require(\"../errors\");\n\nconst parseProxyUrl = url => {\n  const urlTokens = (0, _url.parse)(url);\n\n  if (urlTokens.query !== null) {\n    throw new _errors.UnexpectedStateError('Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL must not have query.');\n  }\n\n  if (urlTokens.hash !== null) {\n    throw new _errors.UnexpectedStateError('Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL must not have hash.');\n  }\n\n  if (urlTokens.protocol !== 'http:') {\n    throw new _errors.UnexpectedStateError('Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL protocol must be \"http:\".');\n  }\n\n  let port = 80;\n\n  if (urlTokens.port) {\n    port = Number.parseInt(urlTokens.port, 10);\n  }\n\n  return {\n    authorization: urlTokens.auth || null,\n    hostname: urlTokens.hostname,\n    port\n  };\n};\n\nvar _default = parseProxyUrl;\nexports.default = _default;","map":{"version":3,"sources":["../../src/utilities/parseProxyUrl.js"],"names":["url","urlTokens","UnexpectedStateError","port","Number","authorization","hostname"],"mappings":";;;;;;;AAEA,IAAA,IAAA,GAAA,OAAA,CAAA,KAAA,CAAA;;AAGA,IAAA,OAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;sBAIgBA,G,IAAgB;AAC9B,QAAMC,SAAS,GAAG,CAAA,GAAA,IAAA,CAAA,KAAA,EAAlB,GAAkB,CAAlB;;AAEA,MAAIA,SAAS,CAATA,KAAAA,KAAJ,IAAA,EAA8B;AAC5B,UAAM,IAAIC,OAAAA,CAAJ,oBAAA,CAAN,qFAAM,CAAN;AACD;;AAED,MAAID,SAAS,CAATA,IAAAA,KAAJ,IAAA,EAA6B;AAC3B,UAAM,IAAIC,OAAAA,CAAJ,oBAAA,CAAN,oFAAM,CAAN;AACD;;AAED,MAAID,SAAS,CAATA,QAAAA,KAAJ,OAAA,EAAoC;AAClC,UAAM,IAAIC,OAAAA,CAAJ,oBAAA,CAAN,0FAAM,CAAN;AACD;;AAED,MAAIC,IAAI,GAAR,EAAA;;AAEA,MAAIF,SAAS,CAAb,IAAA,EAAoB;AAClBE,IAAAA,IAAI,GAAGC,MAAM,CAANA,QAAAA,CAAgBH,SAAS,CAAzBG,IAAAA,EAAPD,EAAOC,CAAPD;AACD;;AAED,SAAO;AACLE,IAAAA,aAAa,EAAEJ,SAAS,CAATA,IAAAA,IADV,IAAA;AAELK,IAAAA,QAAQ,EAAEL,SAAS,CAFd,QAAA;AAGLE,IAAAA;AAHK,GAAP","sourcesContent":["// @flow\n\nimport {\n  parse as parseUrl,\n} from 'url';\nimport {\n  UnexpectedStateError,\n} from '../errors';\n\nexport default (url: string) => {\n  const urlTokens = parseUrl(url);\n\n  if (urlTokens.query !== null) {\n    throw new UnexpectedStateError('Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL must not have query.');\n  }\n\n  if (urlTokens.hash !== null) {\n    throw new UnexpectedStateError('Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL must not have hash.');\n  }\n\n  if (urlTokens.protocol !== 'http:') {\n    throw new UnexpectedStateError('Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL protocol must be \"http:\".');\n  }\n\n  let port = 80;\n\n  if (urlTokens.port) {\n    port = Number.parseInt(urlTokens.port, 10);\n  }\n\n  return {\n    authorization: urlTokens.auth || null,\n    hostname: urlTokens.hostname,\n    port,\n  };\n};\n"]},"metadata":{},"sourceType":"script"}